import { VerticalBox, LineEdit } from "std-widgets.slint";

export component LoginView inherits Rectangle {
    // --- PROPIEDADES DE SALIDA ---
    // Estas permiten que AppWindow lea lo que el usuario escribió
    out property <string> username: user_input.text;
    out property <string> password: pass_input.text;

    // Fondo con el gradiente oscuro original
    background: @linear-gradient(
        145deg,
        #0a0a0f 0%,
        #12121a 100%
    );

    // Callback que se dispara al pulsar el botón
    callback loginSuccessful();

    VerticalBox {
        padding: 40px;
        spacing: 30px;
        alignment: center;

        // --- SECCIÓN DEL TÍTULO NEÓN ---
        VerticalBox {
            spacing: 5px;
            alignment: center;
            
            Text {
                text: "Iniciar Sesión";
                font-size: 36px;
                font-weight: 900; // Peso numérico corregido
                horizontal-alignment: center;
                color: #00ffff;
            }
            
            // Línea de acento neón
            Rectangle {
                height: 2px;
                width: 120px;
                background: #00ffff;
                drop-shadow-blur: 10px;
                drop-shadow-color: #00ffff;
            }
        }

        // --- CAMPO: USUARIO ---
        Rectangle {
            height: 55px;
            border-radius: 8px;
            border-width: 2px;
            border-color: #ff00ff;
            background: rgba(20, 20, 30, 0.7);

            user_input := LineEdit {
                width: 100%;
                height: 100%;
                placeholder-text: "Usuario";
                font-size: 16px;
            }
        }

        // --- CAMPO: CONTRASEÑA ---
        Rectangle {
            height: 55px;
            border-radius: 8px;
            border-width: 1px;
            border-color: #00ffff;
            background: rgba(20, 20, 30, 0.7);
            drop-shadow-blur: 10px;
            drop-shadow-color: rgba(0, 255, 255, 0.2);

            pass_input := LineEdit {
                width: 100%;
                height: 100%;
                placeholder-text: "Contraseña";
                font-size: 16px;
                input-type: InputType.password; // Tipo de entrada corregido
            }
        }

        // --- BOTÓN DE ACCESO ---
        Rectangle {
            height: 50px;
            border-radius: 8px;
            background: @linear-gradient(
                90deg,
                #ff00ff 0%,
                #00ffff 100%
            );

            Text {
                text: "ACCEDER";
                font-size: 16px;
                font-weight: 800;
                color: #000000;
                horizontal-alignment: center;
                vertical-alignment: center;
            }

            // Área de interacción corregida
            TouchArea {
                mouse-cursor: pointer; // Nombre de propiedad corregido
                clicked => {
                    root.loginSuccessful();
                }
            }
        }
    }          
}
