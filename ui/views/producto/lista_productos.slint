import { Button, VerticalBox, HorizontalBox, StandardTableView } from "std-widgets.slint";

export component ListaProductos inherits Rectangle {
    in-out property <[[StandardListViewItem]]> rows;
    
    // Callbacks
    callback refrescar();
    callback ir_a_nuevo(); // Nuevo callback para navegaciÃ³n

    background: transparent;
    horizontal-stretch: 1;
    vertical-stretch: 1;

    VerticalBox {
        spacing: 20px;
        padding: 0px;
        horizontal-stretch: 1;
        vertical-stretch: 1;

        HorizontalBox {
            alignment: space-between;
            min-height: 44px;
            Text {
                text: "ðŸ“‹ INVENTARIO";
                font-size: 28px;
                color: #00ffff;
                font-weight: 800;
            }
             
            HorizontalBox {
                spacing: 10px;
                Button {
                    text: "âž• Nuevo Producto";
                    primary: true;
                    height: 38px;
                    clicked => { root.ir_a_nuevo(); }
                }
                Button {
                    text: "ðŸ”„";
                    height: 38px;
                    clicked => { root.refrescar(); }
                }
            }
        }

        Text {
            text: "CÃ³digo | Nombre | Precio | Stock | Marca | Estado";
            color: #9aa0b4;
            font-size: 13px;
        }

        Rectangle {
            background: #161625;
            border-radius: 10px;
            border-width: 1px;
            border-color: #ff00ff;
            clip: true;
            horizontal-stretch: 1;
            vertical-stretch: 1;
            min-height: 420px;

            StandardTableView {
                width: parent.width;
                height: parent.height;
                columns: [
                    { title: "CÃ³digo" },
                    { title: "Producto" },
                    { title: "Precio" },
                    { title: "Stock" },
                    { title: "Marca" },
                    { title: "Estado" }
                ];
                rows: root.rows;
            }
        }
    }
}
